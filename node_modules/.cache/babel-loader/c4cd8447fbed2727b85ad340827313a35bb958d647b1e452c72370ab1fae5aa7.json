{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Acer\\\\Desktop\\\\TaskManager\\\\src\\\\context\\\\UserContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserContext = /*#__PURE__*/createContext();\nexport const useUser = () => {\n  _s();\n  const context = useContext(UserContext);\n  if (!context) {\n    throw new Error('useUser must be used within a UserProvider');\n  }\n  return context;\n};\n_s(useUser, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const UserProvider = ({\n  children\n}) => {\n  _s2();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    // Load users from localStorage\n    const storedUsers = localStorage.getItem('users');\n    if (storedUsers) {\n      setUsers(JSON.parse(storedUsers));\n    }\n    setLoading(false);\n  }, []);\n  const saveUsers = updatedUsers => {\n    setUsers(updatedUsers);\n    localStorage.setItem('users', JSON.stringify(updatedUsers));\n  };\n  const getAllUsers = () => {\n    return users.map(user => {\n      const {\n        password,\n        ...userWithoutPassword\n      } = user;\n      return userWithoutPassword;\n    });\n  };\n  const getUserById = userId => {\n    const user = users.find(u => u.id === userId);\n    if (user) {\n      const {\n        password,\n        ...userWithoutPassword\n      } = user;\n      return userWithoutPassword;\n    }\n    return null;\n  };\n  const deleteUser = userId => {\n    const updatedUsers = users.filter(u => u.id !== userId);\n    saveUsers(updatedUsers);\n\n    // Also delete user's tasks\n    const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');\n    const remainingTasks = tasks.filter(t => t.userId !== userId);\n    localStorage.setItem('tasks', JSON.stringify(remainingTasks));\n    return {\n      success: true\n    };\n  };\n  const getUserStats = () => {\n    const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');\n    return users.map(user => {\n      const userTasks = tasks.filter(t => t.userId === user.id);\n      const {\n        password,\n        ...userWithoutPassword\n      } = user;\n      return {\n        ...userWithoutPassword,\n        taskCount: userTasks.length,\n        completedTasks: userTasks.filter(t => t.completed).length,\n        pendingTasks: userTasks.filter(t => !t.completed).length,\n        lastActivity: userTasks.length > 0 ? Math.max(...userTasks.map(t => new Date(t.createdAt).getTime())) : new Date(user.createdAt).getTime()\n      };\n    });\n  };\n  const value = {\n    users,\n    loading,\n    getAllUsers,\n    getUserById,\n    deleteUser,\n    getUserStats\n  };\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n_s2(UserProvider, \"+quVjBMM9THpHvnUcBaphXhhZmo=\");\n_c = UserProvider;\nvar _c;\n$RefreshReg$(_c, \"UserProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsxDEV","_jsxDEV","UserContext","useUser","_s","context","Error","UserProvider","children","_s2","users","setUsers","loading","setLoading","storedUsers","localStorage","getItem","JSON","parse","saveUsers","updatedUsers","setItem","stringify","getAllUsers","map","user","password","userWithoutPassword","getUserById","userId","find","u","id","deleteUser","filter","tasks","remainingTasks","t","success","getUserStats","userTasks","taskCount","length","completedTasks","completed","pendingTasks","lastActivity","Math","max","Date","createdAt","getTime","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Acer/Desktop/TaskManager/src/context/UserContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst UserContext = createContext();\r\n\r\nexport const useUser = () => {\r\n  const context = useContext(UserContext);\r\n  if (!context) {\r\n    throw new Error('useUser must be used within a UserProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const UserProvider = ({ children }) => {\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Load users from localStorage\r\n    const storedUsers = localStorage.getItem('users');\r\n    if (storedUsers) {\r\n      setUsers(JSON.parse(storedUsers));\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  const saveUsers = (updatedUsers) => {\r\n    setUsers(updatedUsers);\r\n    localStorage.setItem('users', JSON.stringify(updatedUsers));\r\n  };\r\n\r\n  const getAllUsers = () => {\r\n    return users.map(user => {\r\n      const { password, ...userWithoutPassword } = user;\r\n      return userWithoutPassword;\r\n    });\r\n  };\r\n\r\n  const getUserById = (userId) => {\r\n    const user = users.find(u => u.id === userId);\r\n    if (user) {\r\n      const { password, ...userWithoutPassword } = user;\r\n      return userWithoutPassword;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const deleteUser = (userId) => {\r\n    const updatedUsers = users.filter(u => u.id !== userId);\r\n    saveUsers(updatedUsers);\r\n    \r\n    // Also delete user's tasks\r\n    const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');\r\n    const remainingTasks = tasks.filter(t => t.userId !== userId);\r\n    localStorage.setItem('tasks', JSON.stringify(remainingTasks));\r\n    \r\n    return { success: true };\r\n  };\r\n\r\n  const getUserStats = () => {\r\n    const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');\r\n    \r\n    return users.map(user => {\r\n      const userTasks = tasks.filter(t => t.userId === user.id);\r\n      const { password, ...userWithoutPassword } = user;\r\n      \r\n      return {\r\n        ...userWithoutPassword,\r\n        taskCount: userTasks.length,\r\n        completedTasks: userTasks.filter(t => t.completed).length,\r\n        pendingTasks: userTasks.filter(t => !t.completed).length,\r\n        lastActivity: userTasks.length > 0 \r\n          ? Math.max(...userTasks.map(t => new Date(t.createdAt).getTime()))\r\n          : new Date(user.createdAt).getTime()\r\n      };\r\n    });\r\n  };\r\n\r\n  const value = {\r\n    users,\r\n    loading,\r\n    getAllUsers,\r\n    getUserById,\r\n    deleteUser,\r\n    getUserStats\r\n  };\r\n\r\n  return (\r\n    <UserContext.Provider value={value}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}